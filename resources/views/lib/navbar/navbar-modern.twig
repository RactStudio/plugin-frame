<!-- Main Navigation -->
<nav id="pf-main-nav" class="pf-hidden md:pf-block pf-mx-[0px] pf-pt-[1px] pf-pb-[1px] pf-mb-[-2px] md:pf-mb-0 pf-bg-opacity-25 pf-rounded-b-md pf-text-sm pf-font-sans pf-text-white pf-light:pf-text-gray-800 pf-dark:pf-text-gray-100 pf-bg-gray-100 pf-light:pf-bg-gray-200 pf-dark:pf-bg-gray-700">
  <ul class="md:pf-flex md:pf-space-x-6 pf-flex-col md:pf-flex-row">
    <!-- Mega Menu Item -->
    <li>
      <button id="pf-submenu-button-1" class="pf-submenu-button pf-flex pf-px-4 pf-py-2 pf-w-full pf-items-center pf-font-semibold pf-text-gray-800 pf-dark:pf-text-white">
        Mega Menu
        <i id="pf-submenu-icon" data-lucide="chevron-down" class="pf-ml-1 pf-size-5"></i>
      </button>

      <!-- Mega Menu Dropdown -->
      <div id="pf-submenu-1" class="pf-submenu-dropdown pf-absolute pf-mr-[8px] sm:pf-mr-2.5 md:pf-mr-4 lg:pf-mr-5 xl:pf-mr-5 2xl:pf-mr-5 pf-left-0 pf-right-0 pf-bg-white pf-dark:pf-bg-gray-700 pf-rounded-md pf-shadow-lg pf-z-50 pf-hidden">
        <div class="pf-grid pf-grid-cols-12 pf-gap-4 pf-px-4 pf-py-4">
          
          <!-- Mega Menu Content -->
          <div class="pf-col-span-12 md:pf-col-span-4">
            <h3 class="pf-text-[16px] pf-font-semibold pf-mb-2 pf-text-gray-700 pf-dark:pf-text-gray-200">Category 1</h3>
            <a href="#" class="pf-block pf-py-2 pf-px-4 hover:pf-rounded-md hover:pf-shadow-md pf-text-gray-700 pf-dark:pf-text-gray-200 hover:pf-bg-gray-100 pf-dark:hover:pf-bg-gray-600">Subitem 1</a>
            <a href="#" class="pf-block pf-py-2 pf-px-4 hover:pf-rounded-md hover:pf-shadow-md pf-text-gray-700 pf-dark:pf-text-gray-200 hover:pf-bg-gray-100 pf-dark:hover:pf-bg-gray-600">Subitem 2</a>
          </div>
          <div class="pf-col-span-12 md:pf-col-span-4">
            <h3 class="pf-text-[16px] pf-font-semibold pf-mb-2 pf-text-gray-700 pf-dark:pf-text-gray-200">Category 1</h3>
            <a href="#" class="pf-block pf-py-2 pf-px-4 hover:pf-rounded-md hover:pf-shadow-md pf-text-gray-700 pf-dark:pf-text-gray-200 hover:pf-bg-gray-100 pf-dark:hover:pf-bg-gray-600">Subitem 1</a>
            <a href="#" class="pf-block pf-py-2 pf-px-4 hover:pf-rounded-md hover:pf-shadow-md pf-text-gray-700 pf-dark:pf-text-gray-200 hover:pf-bg-gray-100 pf-dark:hover:pf-bg-gray-600">Subitem 2</a>
          </div>
          <div class="pf-col-span-12 md:pf-col-span-4 pf-text-gray-700 pf-dark:pf-text-gray-200">
            <h3 class="pf-text-[16px] pf-font-semibold pf-mb-2 pf-text-gray-700 pf-dark:pf-text-gray-200">Category 1</h3>
            <a href="#" class="pf-block pf-py-2 pf-px-4 hover:pf-rounded-md hover:pf-shadow-md pf-text-gray-700 pf-dark:pf-text-gray-200 hover:pf-bg-gray-100 pf-dark:hover:pf-bg-gray-600">Subitem 1</a>
            <a href="#" class="pf-block pf-py-2 pf-px-4 hover:pf-rounded-md hover:pf-shadow-md pf-text-gray-700 pf-dark:pf-text-gray-200 hover:pf-bg-gray-100 pf-dark:hover:pf-bg-gray-600">Subitem 2</a>
          </div>
          <!-- Add more columns as needed -->

        </div>
      </div>
    </li>

    <!-- Sub Menu Item -->
    <li>
      <button id="pf-submenu-button-2" class="pf-submenu-button pf-flex pf-px-4 pf-py-2 pf-w-full pf-items-center pf-font-semibold pf-text-gray-800 pf-dark:pf-text-white">
        Sub Menu
        <i id="pf-submenu-icon" data-lucide="chevron-down" class="pf-ml-1 pf-size-5"></i>
      </button>

      <!-- Sub Menu Dropdown -->
      <div id="pf-submenu-2" class="pf-submenu-dropdown md:pf-w-60 pf-absolute pf-mr-[8px] sm:pf-mr-2.5 md:pf-mr-4 lg:pf-mr-5 xl:pf-mr-5 2xl:pf-mr-5 pf-left-0 pf-right-0 md:pf-left-auto md:pf-right-auto pf-bg-white pf-dark:pf-bg-gray-700 pf-rounded-md pf-shadow-lg pf-z-50 pf-hidden">
        <div class="pf-grid pf-grid-cols-12 pf-gap-4 pf-px-4 pf-py-4">
          
          <!-- Sub Menu Content -->
          <div class="pf-col-span-12">
            <h3 class="pf-text-[16px] pf-font-semibold pf-mb-2 pf-text-gray-700 pf-dark:pf-text-gray-200">Category 1</h3>
            <a href="#" class="pf-block pf-py-2 pf-px-4 hover:pf-rounded-md hover:pf-shadow-md pf-text-gray-700 pf-dark:pf-text-gray-200 hover:pf-bg-gray-100 pf-dark:hover:pf-bg-gray-600">Subitem 1</a>
            <a href="#" class="pf-block pf-py-2 pf-px-4 hover:pf-rounded-md hover:pf-shadow-md pf-text-gray-700 pf-dark:pf-text-gray-200 hover:pf-bg-gray-100 pf-dark:hover:pf-bg-gray-600">Subitem 2</a>
            <h3 class="pf-text-[16px] pf-font-semibold pf-mb-2 pf-text-gray-700 pf-dark:pf-text-gray-200">Category 1</h3>
            <a href="#" class="pf-block pf-py-2 pf-px-4 hover:pf-rounded-md hover:pf-shadow-md pf-text-gray-700 pf-dark:pf-text-gray-200 hover:pf-bg-gray-100 pf-dark:hover:pf-bg-gray-600">Subitem 1</a>
            <a href="#" class="pf-block pf-py-2 pf-px-4 hover:pf-rounded-md hover:pf-shadow-md pf-text-gray-700 pf-dark:pf-text-gray-200 hover:pf-bg-gray-100 pf-dark:hover:pf-bg-gray-600">Subitem 2</a>
          </div>
          <!-- Add more items as needed -->

        </div>
      </div>
    </li>

    <!-- Simple Menu Item -->
    <li>
      <button id="pf-submenu-button-3" class="pf-submenu-button pf-flex pf-px-4 pf-py-2 pf-w-full pf-items-center pf-font-semibold pf-text-gray-800 pf-dark:pf-text-white">
        Simple Menu
        <i id="pf-submenu-icon" data-lucide="chevron-down" class="pf-ml-1 pf-size-5"></i>
      </button>

      <!-- Sub Menu Dropdown -->
      <div id="pf-submenu-3" class="pf-submenu-dropdown md:pf-w-60 pf-absolute pf-mr-[8px] sm:pf-mr-2.5 md:pf-mr-4 lg:pf-mr-5 xl:pf-mr-5 2xl:pf-mr-5 pf-left-0 pf-right-0 md:pf-left-auto md:pf-right-auto pf-bg-white pf-dark:pf-bg-gray-700 pf-rounded-md pf-shadow-lg pf-z-50 pf-hidden">
        <div class="pf-grid pf-grid-cols-12 pf-gap-4 pf-px-1 pf-py-4">
          
          <!-- Sub Menu Content -->
          <div class="pf-col-span-12">
            <a href="#" class="pf-block pf-py-2 pf-px-4 hover:pf-rounded-md hover:pf-shadow-md pf-text-gray-700 pf-dark:pf-text-gray-200 hover:pf-bg-gray-100 pf-dark:hover:pf-bg-gray-600">Subitem 1</a>
            <a href="#" class="pf-block pf-py-2 pf-px-4 hover:pf-rounded-md hover:pf-shadow-md pf-text-gray-700 pf-dark:pf-text-gray-200 hover:pf-bg-gray-100 pf-dark:hover:pf-bg-gray-600">Subitem 2</a>
            <a href="#" class="pf-block pf-py-2 pf-px-4 hover:pf-rounded-md hover:pf-shadow-md pf-text-gray-700 pf-dark:pf-text-gray-200 hover:pf-bg-gray-100 pf-dark:hover:pf-bg-gray-600">Subitem 1</a>
            <a href="#" class="pf-block pf-py-2 pf-px-4 hover:pf-rounded-md hover:pf-shadow-md pf-text-gray-700 pf-dark:pf-text-gray-200 hover:pf-bg-gray-100 pf-dark:hover:pf-bg-gray-600">Subitem 2</a>
          </div>
          <!-- Add more items as needed -->

        </div>
      </div>
    </li>

    <!-- Regular Menu Items -->
    <li>
      <a href="#" class="pf-block pf-px-4 pf-py-2 pf-font-semibold pf-text-gray-800 pf-dark:pf-text-white pf-hover:pf-bg-gray-200 pf-dark:pf-hover:pf-bg-gray-600">Settings</a>
    </li>
    <li>
      <a href="#" class="pf-block pf-px-4 pf-py-2 pf-font-semibold pf-text-gray-800 pf-dark:pf-text-white pf-hover:pf-bg-gray-200 pf-dark:pf-hover:pf-bg-gray-600">Tools</a>
    </li>
  </ul>
</nav>

<script>
document.addEventListener("DOMContentLoaded", function () {
  // Mobile Menu Logic
  const mobileMenuButton = document.getElementById("pf-mobile-menu-button");
  const menuOpenIcon = document.getElementById("pf-menu-open-icon");
  const menuCloseIcon = document.getElementById("pf-menu-close-icon");
  const mainNav = document.getElementById("pf-main-nav");
  let isMenuOpen = false;

  if (mobileMenuButton) {
    mobileMenuButton.addEventListener("click", () => {
      isMenuOpen = !isMenuOpen;
      mainNav.classList.toggle("pf-hidden", !isMenuOpen);
      menuOpenIcon.classList.toggle("pf-hidden", isMenuOpen);
      menuCloseIcon.classList.toggle("pf-hidden", !isMenuOpen);
    });
  }

  // Submenu Logic
  document.querySelectorAll('.pf-submenu-button').forEach(button => {
    // Extract the trailing identifier from the button's id (e.g., "1" from "pf-submenu-button-1")
    const idParts = button.id.split('-');
    const index = idParts.pop(); // gets the last element which is the number
    const submenu = document.getElementById(`pf-submenu-${index}`);
    const icon = button.querySelector('i');

    // Toggle submenu on mobile (for screens narrower than 768px)
    button.addEventListener('click', (e) => {
      if (window.innerWidth < 768) {
        e.preventDefault();
        // Toggle the hidden state of the submenu
        const isHidden = submenu.classList.toggle('pf-hidden');
        // Update the icon based on the state
        icon.setAttribute('data-lucide', isHidden ? 'chevron-down' : 'chevron-up');
        lucide.createIcons();
      }
    });

    // Hover logic for desktop (screens 768px and wider)
    button.parentElement.addEventListener('mouseenter', () => {
      if (window.innerWidth >= 768) {
        submenu.classList.remove('pf-hidden');
      }
    });

    button.parentElement.addEventListener('mouseleave', () => {
      if (window.innerWidth >= 768) {
        submenu.classList.add('pf-hidden');
      }
    });
  });

  // Close all submenus when clicking outside of any submenu button
  document.addEventListener('click', (e) => {
    if (!e.target.closest('.pf-submenu-button')) {
      document.querySelectorAll('.pf-submenu-dropdown').forEach(dropdown => {
        dropdown.classList.add('pf-hidden');
      });
      document.querySelectorAll('.pf-submenu-button i').forEach(icon => {
        icon.setAttribute('data-lucide', 'chevron-down');
      });
      lucide.createIcons();
    }
  });

  // Window Resize Handler
  window.addEventListener('resize', () => {
    if (window.innerWidth >= 768) {
      mainNav.classList.remove('pf-hidden');
      document.querySelectorAll('.pf-submenu-dropdown').forEach(dropdown => {
        dropdown.classList.add('pf-hidden');
      });
    }
  });
});
</script>